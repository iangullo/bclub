<div id="drills-index">
	<div id="drills-header">
		<table>
			<tr>
				<th rowspan="2" class="align-top justify-center">
					<%= image_tag "drill.svg", size: "50x50" %>
				<th colspan="2" align="left" class="align-top text-yellow-600">Ejercicios</th>
			</tr><tr>
				<td>
					<div id="search-drills" class="inline-flex rounded border items start">
						<%= form_with(url: '/drills', value: params[:search], method: 'get', local: true) do |f| %>
							<%= text_field_tag :search, "", size: 16, class: "text-gray-700 rounded border shadow-inner" %>
							<%= image_submit_tag "search.svg", height: 25, class: "search_button align-middle", alt: "Buscar" %>
						<% end %>
					</div>
				</td>
			</tr>
		</table>
	</div>

	<div id="drills-grid">
		<table class="table-auto">
			<thead>
				<tr>
					<th class="bg-indigo-900 text-gray-300 align-center border px py">Nombre</th>
					<th class="bg-indigo-900 text-gray-300 align-center border px py">Tipo</th>
					<th class="bg-indigo-900 text-gray-300 align-center border px py">Objetivos</th>
					<th>
						<%= link_to new_drill_path, data: {"turbo-frame": "modal"} do %>
							<%= render "shared/add" %>
						<% end %>
					</th>
				</tr>
			</thead>

			<tbody>
				<% @drills.each do |drill| %>
					<tr class="hover:text-white hover:bg-blue-700">
						<td class="border px py"><%= link_to drill.name, drill, data: {"turbo-frame": "modal"} %></td>
						<td class="border px py"><%= link_to drill.kind.name, drill, data: {"turbo-frame": "modal"} %></td>
						<td class="border px py">
							<% drill.drill_targets.each do |d_t| %>
								<%= link_to d_t.to_s, drill, data: {"turbo-frame": "modal" } %>
								<br>
							<% end %>
						</td>
						<% if current_user.admin? %>
							<td class="hover:bg-white">
								<%= link_to drill, method: :delete, data: { confirm: "Â¿Borrar '#{drill.name}'" } do %>
									<%= render "shared/delete" %>
								<% end %>
							</td>
						<% end %>
					</tr>
				<% end %>
			</tbody>
		</table>
	</div>
</div>
