<%= render "shared/modal" do %>
<div id="training-slots-index">
	<div id="training-slots-header">
    <table>
      <tr>
        <th rowspan="2">
          <%= image_tag("timetable.svg", size: "50x50") %>
        </th><th align="left" class="align-top rounded-md text-yellow-600">
          Horarios
        </th>
      </tr><tr>
        <th align="left"><%= @season ? @season.name : " " %><th>
      </tr><tr>
				<td></td>
				<td>
					<div id="search-slots" class="inline-flex text-gray-700 rounded border">
						<%= form_with(url: '/training_slots', method: 'get', local: true) do |f| %>
							<%= f.collection_select :location_id, Location.order(name: :desc), :id, :name, {selected: params[:location_id] ? params[:location_id].to_i : 0} %>
							<%= image_submit_tag "search.svg", width: 25, height: 25, class: "search_button align-middle", alt: "Buscar" %>
						<% end %>
					</div>
				</td>
			</tr>
		</table>
	</div>

	<div id="training-slots-grid">
		<table class="table-auto border-separate">
		  <thead>
				<tr>
				  <th align="center">
						<% if current_user.admin? %>
							<%= link_to new_training_slot_path, data: {"turbo-frame": "modal" } do %>
								<%= render "shared/add" %>
							<% end %>
						<% end %>
					</th>
				  <th align="center" class="bg-indigo-900 text-gray-300 align-center">Lun</th>
				  <th align="center" class="bg-indigo-900 text-gray-300 align-center">Mar</th>
				  <th align="center" class="bg-indigo-900 text-gray-300 align-center">Mi&eacute;</th>
				  <th align="center" class="bg-indigo-900 text-gray-300 align-center">Jue</th>
				  <th align="center" class="bg-indigo-900 text-gray-300 align-center">Vie</th>
				</tr>
		  </thead>
		  <tbody>
				<% t_hour = Time.new(2000,1,1,16,00) %>
				<% while t_hour.hour < 22 do %>
					<%= render 'week_view' , t_hour: t_hour%>
					<% t_hour = t_hour + 30.minutes %>
				<% end %>
		  </tbody>
		</table>
	</div>
	<br>
</div>
<% end %>
